<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Janith's Blog</title><link href="https://janithl.github.io/" rel="alternate"></link><link href="https://janithl.github.io/feeds/general.atom.xml" rel="self"></link><id>https://janithl.github.io/</id><updated>2016-08-20T15:58:00+05:30</updated><entry><title>The Continuing Story of Bungalow Bill</title><link href="https://janithl.github.io/2016/08/the-continuing-story-of-bungalow-bill/" rel="alternate"></link><published>2016-08-20T15:58:00+05:30</published><author><name>Janith</name></author><id>tag:janithl.github.io,2016-08-20:2016/08/the-continuing-story-of-bungalow-bill/</id><summary type="html">&lt;p&gt;&lt;em&gt;Deep in the jungle where the mighty tiger lies&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Bill and his elephants were taken by surprise&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;So Captain Marvel zapped in right between the eyes, zap!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;All the children sing&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Hey, Bungalow Bill&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What did you kill, Bungalow Bill?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Hey, Bungalow Bill&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;What did you kill, Bungalow Bill?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Of all the messes that colonisers left their former colonies in, the mess 
created with the birth (and partitioning) of India is particularly sad.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Pakistan" src="https://janithl.github.io/images/pakistan-ethnic.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;See:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Durand_Line"&gt;Durand Line&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Radcliffe_Line"&gt;Radcliffe Line&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary><category term="conflict"></category><category term="geopolitics"></category></entry><entry><title>Allegory</title><link href="https://janithl.github.io/2016/08/allegory/" rel="alternate"></link><published>2016-08-09T21:43:00+05:30</published><author><name>Janith</name></author><id>tag:janithl.github.io,2016-08-09:2016/08/allegory/</id><summary type="html">&lt;p&gt;&lt;em&gt;I have good friends who are drinkers. I have good friends who are social 
drinkers, but aren't really drinkers. I have good friends who aren't drinkers.
I have good friends who are drinkers, and also want all the non-drinkers to 
drink too. I have good friends who aren't drinkers and want to eradicate 
drinking, and maybe the drinkers too.&lt;/em&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;For the longest time, there was no drinking. Then, in the cold climes up North,
alcohol was discovered. It became quickly popular in those wintry wastelands, 
and made human habitation bearable. It spread, as human ingenuity often does,
far and wide. It even made it down here, to the sunny South, where the juices 
and nectars had held sway, where the coconut was indeed &lt;em&gt;'King'&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;For the tropical Southerner, the harsh solution held no great attraction. And 
for the Northener who was now in paradise, it didn't really make sense to wear
fur coats or drink harsh vodka, either. And so, the hybrids happened. Mix a bit
of this, with a bit of that, swirl it around for a bit of divinity. Cocktails 
happened, Sangria happened. There was a perfect blend, and it felt right at 
home in the sun.&lt;/p&gt;
&lt;p&gt;And this is how drinking survived in the South for many years. And then came 
the days of speed, of flying machines and mighty ships, of postal services
that were but instant.&lt;/p&gt;
&lt;p&gt;And the vodka rediscovered the Cocktail, and the Cocktail rediscovered the 
Vodka.&lt;/p&gt;
&lt;p&gt;And said the Vodka, "What have you done to my pristine condition?"&lt;/p&gt;
&lt;p&gt;And said the Cocktail, "But is it not nature, for things to evolve and adapt?"&lt;/p&gt;
&lt;p&gt;"From the North hail I, and you better not corrupt what is pure."&lt;/p&gt;
&lt;p&gt;And so, with a huge marketing campaign too, the Vodka made its way into 
Southern bars again. The cotton sarong made way for the fur coat, and the 
centuries of Southern heritage made way for reverential aping of the North.&lt;/p&gt;
&lt;p&gt;And the once peaceful bonds of brotherhood between the drinker and the 
non-drinker were broken, and families that for centuries were united regardless
of such trivialities were suddenly at war. The merry sessions of &lt;em&gt;baila&lt;/em&gt; and 
dance made way for chavs running around starting brawls and breaking bottles.&lt;/p&gt;
&lt;p&gt;To drink a cocktail was to blaspheme.&lt;/p&gt;
&lt;p&gt;To even associate with a non-drinker was discouraged, unless you were engaging
them to drag them to the bar and make them drinkers too.&lt;/p&gt;
&lt;p&gt;The non-drinkers felt threatened and reacted. Street corners were all suddenly 
filled with fruit juice stalls. The Coconut had to be respectfully addressed 
as "His &lt;em&gt;Majesty&lt;/em&gt;, the King of Coconuts". Or else.&lt;/p&gt;
&lt;p&gt;Shandy was thrown at bar patrons. Things got real ugly on sidewalks right 
outside.&lt;/p&gt;
&lt;p&gt;"Would our fathers ever have started drinking if they knew the Sangria was 
going to make way for the Vodka?" "Fur coats? In this weather? Would our 
grandmothers ever have let this happen?" "All these drunks do is start brawls! 
It encourages violence, you know?"&lt;/p&gt;
&lt;p&gt;"All they have is an irrational fear of Vodka and Whiskey!" "Once you've tasted
Lagavulin, can you ever go back? This is, and will always be, what drinking is
about". "Those coconuts are just bitter about how happy drinkers are!"&lt;/p&gt;
&lt;p&gt;You'd think the world would grow closer, that the North and the South would 
finally just be directions on a map. But from here, it seems to me, the North
looks on gleefully as the South tears itself apart.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;I have good friends who are drinkers. I have good friends who are social 
drinkers, but aren't really drinkers. I have good friends who aren't drinkers.
I have good friends who are drinkers, and also want all the non-drinkers to 
drink too. I have good friends who aren't drinkers and want to eradicate 
drinking, and maybe the drinkers too.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;And if you are a good friend of mine, you'd know that this post isn't about 
drinking at all.&lt;/p&gt;</summary><category term="conflict"></category><category term="people"></category></entry><entry><title>July is the month of buses, and 2016 is the year of JS</title><link href="https://janithl.github.io/2016/07/busroutejs/" rel="alternate"></link><published>2016-07-22T08:32:00+05:30</published><author><name>Janith</name></author><id>tag:janithl.github.io,2016-07-22:2016/07/busroutejs/</id><summary type="html">&lt;p&gt;Yesterday, there I was, minding my own business, when Facebook 
"memories" or whatever threw this curveball at me:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bus Route Anniversary" src="https://janithl.github.io/images/bus-route-anni.png" /&gt;&lt;/p&gt;
&lt;p&gt;Turns out it was exactly 5 years ago that I hacked together 
&lt;a href="https://janithl.blogspot.com/2011/07/bus-route-finder.html"&gt;a small piece of PHP&lt;/a&gt;, with a &lt;em&gt;liberal&lt;/em&gt; amount of SQL logic 
thrown in, and it became sort of popular. We're talking a 
&lt;a href="https://github.com/janithl/Bus-Route-Finder"&gt;codebase&lt;/a&gt; like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt; 

&lt;span class="k"&gt;function&lt;/span&gt; &lt;span class="nf"&gt;find3Bus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$to&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="nv"&gt;$dbconn&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nv"&gt;$sql&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;lt;&amp;lt;&amp;lt;SQL&lt;/span&gt;
&lt;span class="s"&gt;SELECT s1.`bid` as busid1, s3.`bid` as busid2, s5.`bid` as busid3, &lt;/span&gt;
&lt;span class="s"&gt;ch1.`changeid` as changeid1, ch2.`changeid` as changeid2, &lt;/span&gt;
&lt;span class="s"&gt;(s2.`stopNo` - s1.`stopNo`) as dist1, &lt;/span&gt;
&lt;span class="s"&gt;(s4.`stopNo` - s3.`stopNo`) as dist2, &lt;/span&gt;
&lt;span class="s"&gt;(s6.`stopNo` - s5.`stopNo`) as dist3&lt;/span&gt;
&lt;span class="s"&gt;FROM `changeover` AS ch1, `changeover` AS ch2, `stop` AS s1 INNER JOIN `stop` AS s2&lt;/span&gt;
&lt;span class="s"&gt;ON s1.`bid` = s2.`bid`&lt;/span&gt;
&lt;span class="s"&gt;INNER JOIN `stop` AS s3&lt;/span&gt;
&lt;span class="s"&gt;ON s2.`pid` = s3.`pid`&lt;/span&gt;
&lt;span class="s"&gt;INNER JOIN `stop` AS s4&lt;/span&gt;
&lt;span class="s"&gt;ON s3.`bid` = s4.`bid`&lt;/span&gt;
&lt;span class="s"&gt;INNER JOIN `stop` AS s5&lt;/span&gt;
&lt;span class="s"&gt;ON s4.`pid` = s5.`pid`&lt;/span&gt;
&lt;span class="s"&gt;INNER JOIN `stop` AS s6&lt;/span&gt;
&lt;span class="s"&gt;ON s5.`bid` = s6.`bid`  &lt;/span&gt;
&lt;span class="s"&gt;WHERE s1.`pid` = :from AND s2.`pid` = ch1.`changeid` AND s4.`pid` = ch2.`changeid` &lt;/span&gt;
&lt;span class="s"&gt;AND s6.`pid` = :to AND s2.`stopNo` &amp;gt; s1.`stopNo` AND s4.`stopNo` &amp;gt; s3.`stopNo` &lt;/span&gt;
&lt;span class="s"&gt;AND s6.`stopNo` &amp;gt; s5.`stopNo` ORDER BY (dist1 + dist2 + dist3);&lt;/span&gt;
&lt;span class="s"&gt;SQL;&lt;/span&gt;
    &lt;span class="nv"&gt;$res&lt;/span&gt;    &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$dbconn&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;query&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$sql&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;:from&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;:to&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$to&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
    &lt;span class="nv"&gt;$return&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$res&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$row&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$res&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="na"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="k"&gt;false&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nv"&gt;$return&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nv"&gt;$row&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nv"&gt;$return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Yikes.&lt;/p&gt;
&lt;p&gt;Anyway, this was hosted on a shitty &lt;a href="http://chavs.000a.biz"&gt;000a host&lt;/a&gt; that somehow 
still exists on the internet, and it looked like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bus Route Site Screenshot" src="https://janithl.github.io/images/bus-route-original.png" /&gt;&lt;/p&gt;
&lt;p&gt;And gave out results that looked like:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bus Route Site Results" src="https://janithl.github.io/images/bus-route-original-results.png" /&gt;&lt;/p&gt;
&lt;p&gt;Which somehow is better looking than anything I've managed since.&lt;/p&gt;
&lt;h2&gt;ANYWAY&lt;/h2&gt;
&lt;p&gt;I've been wanting to rewrite &lt;a href="https://github.com/janithl/BusRouteJS/commit/eac72894410693c47426720e240a8d5719316b1b"&gt;this thing in JS since 2014&lt;/a&gt;, 
and I've been grappling with Dijkstra's algorithm for months 
over this. The moment of clarity was realising that bus routes 
&lt;em&gt;aren't graphs, they're linked lists&lt;/em&gt;, and using complicated 
graph algorithms is unnecessary.&lt;/p&gt;
&lt;p&gt;This Facebook reminder yesterday and having a &lt;em&gt;bit&lt;/em&gt; of free
time on my hands led to a 24-hour code sprint that produced
&lt;a href="https://janithl.github.io/BusRouteJS/"&gt;this little thingy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It's not &lt;em&gt;better&lt;/em&gt; than the original, for example the same query
as the above Galle Face - Kottawa one gives a stupid result 
like this:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Bus Route JS Results" src="https://janithl.github.io/images/bus-route-js-results.png" /&gt;&lt;/p&gt;
&lt;p&gt;The data is ~ 5 years old and needs to be tweaked, and I think 
the algorithms can do with a lot of tweaking, but here it is 
and it runs 100% client-side. Yay 2016!&lt;/p&gt;
&lt;h2&gt;What is this CRAP?!&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Update:&lt;/em&gt; The UI code is now completely React-based! All clean and 
beautiful. Yay!&lt;/p&gt;
&lt;p&gt;"Janith", I hear you say, "you go around the place talking about 
the how great React is and how important readable code is, and 
then you write crap UI code like this:"&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;col-xs-12&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;col-xs-6&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;quot;col-xs-6&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;length&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;col-xs-4&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;from&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;quot;col-xs-4&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;quot;col-xs-4&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;
        &lt;span class="nx"&gt;renderRoute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;changes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;to&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;route&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="nx"&gt;routes&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;/div&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;index&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;panel panel-warning&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;panel-heading&amp;quot;&amp;gt;&amp;lt;h3 class=&amp;quot;panel-title&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="s1"&gt;&amp;#39;&amp;lt;span class=&amp;quot;glyphicon glyphicon-star&amp;quot;&amp;gt;&amp;lt;/span&amp;gt; Recommended Route&amp;lt;/h3&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&amp;quot;panel-body row&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; 
    &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;div class=&amp;quot;panel panel-default&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;panel-body row&amp;quot;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Okay, I'm a hypocrite. I only had 24 hours to write this and I 
cut some corners. REACT TAKES LIKE &lt;strong&gt;6 HOURS&lt;/strong&gt; TO SET UP, OKAY? &lt;/p&gt;
&lt;p&gt;I'm sorry. :C&lt;/p&gt;
&lt;p&gt;(It took a couple of days of hard toil to finally convert the UI 
code to React. I would never have made my self-imposed 24 hour 
deadline had I gone with React the first time.)&lt;/p&gt;
&lt;h2&gt;Why's half of router.js stolen code?&lt;/h2&gt;
&lt;p&gt;Let's face it, we all do this. Copy stuff &lt;em&gt;gedi pitin&lt;/em&gt; from 
StackOverflow. I just linked back to the sources, legal 
ramifications be damned.&lt;/p&gt;
&lt;h2&gt;Is this bus thing the only good thing you've written? Are you flogging a dead horse?&lt;/h2&gt;
&lt;p&gt;I wouldn't call it good, but yes.&lt;/p&gt;
&lt;h2&gt;What now?&lt;/h2&gt;
&lt;p&gt;I've barely tested it, so I'll probably make some tweaks here 
and there. The code, as usual, is on &lt;a href="https://github.com/janithl/BusRouteJS"&gt;Github and MIT licensed&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;TL;DR&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://janithl.github.io/BusRouteJS/"&gt;Go to this page, and it'll throw you not great bus route suggestions&lt;/a&gt;&lt;/p&gt;</summary><category term="code"></category></entry><entry><title>The Lastfm Dataset</title><link href="https://janithl.github.io/2016/07/the-lastfm-dataset/" rel="alternate"></link><published>2016-07-20T09:09:00+05:30</published><author><name>Janith</name></author><id>tag:janithl.github.io,2016-07-20:2016/07/the-lastfm-dataset/</id><summary type="html">&lt;p&gt;&lt;img alt="Lastfm Reminder" src="https://janithl.github.io/images/todoist-lastfm.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Todoist reminding me that my Last.fm analysis is overdue&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I downloaded my &lt;a href="http://www.last.fm/user/JanithL"&gt;Last.fm scrobble data&lt;/a&gt; a week
or so back using &lt;a href="https://benjaminbenben.com/lastfm-to-csv/"&gt;this excellent online tool&lt;/a&gt;. 
It contains almost every song I listened to on my PC (and some from my phone 
and iPod) between March 2011 and November 2014, 12784 scrobbles in total.&lt;/p&gt;
&lt;p&gt;I will do a proper analysis &lt;em&gt;soon&lt;/em&gt; (sorry, Todoist), but here are some 
descriptive stats that &lt;a href="http://pandas.pydata.org/pandas-docs/stable/"&gt;Pandas&lt;/a&gt; 
throws out:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;             Artist         Album         Title          Timestamp
count         12784         12593         12784              12784
unique          354           752          2048              12709
top     The Beatles  Past Masters  Sleeping Sun  09 Feb 2013 13:24
freq           1904           285            39                  8
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I want to do an analysis of how I discovered and fell in love with new bands 
over the course of these three years. I don't listen to music as much these 
days, but this is a good dataset and I promise not to let it go to waste.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update:&lt;/strong&gt; Added the frequencies and histograms for artists and song titles.&lt;/p&gt;
&lt;h2&gt;Artists&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; df.Artist.value_counts()
The Beatles                        1904
Coldplay                            842
John Mayer                          604
Oasis                               499
Arctic Monkeys                      447
The Who                             345
The Rolling Stones                  318
Snow Patrol                         315
The Velvet Underground              297
Bob Marley &amp;amp; The Wailers            287
Noah and the Whale                  280
The Kooks                           246
Norah Jones                         211
The Kinks                           201
Badfinger                           189
Paul Simon                          179
The Jimi Hendrix Experience         160
Pink Floyd                          159
John Lennon                         146
Queen                               141
The Wailers                         140
Radiohead                           127
U2                                  121
Cream                               114
George Harrison                     111
Lorde                               100
Bee Gees                             97
Simon &amp;amp; Garfunkel                    92
Roy Orbison                          92
Billy Joel                           92
                                   ... 
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://janithl.github.io/images/artist-histogram.png"&gt;&lt;img alt="Artist Histogram" src="https://janithl.github.io/images/artist-histogram.png" /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Song Titles&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt; df.Title.value_counts()
Sleeping Sun                         39
Could You Be Loved                   38
Parachutes                           35
Stuck on the Puzzle                  34
You&amp;#39;ve Got to Hide Your Love Away    34
Word                                 34
Brothers &amp;amp; Sisters                   34
My Girl                              32
One Day                              32
Wild Thing                           32
Bigger Than My Body                  32
Junk of the Heart (Happy)            31
Stir It Up                           31
Blue Skies                           31
Day Tripper                          31
Don&amp;#39;t Look Back in Anger             30
No Woman No Cry                      30
For You (Shiver single Version)      30
All Around the World                 29
Strawberry Swing                     29
Lifeboats                            28
Let Me Go (acoustic)                 28
Ruby                                 28
Baby You&amp;#39;re a Rich Man               28
Bitter Sweet Symphony                28
In Repair                            27
Getting Better                       27
Rainy Day                            27
Love Is All Around                   27
Here Comes the Sun                   27
                                     ..
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href="https://janithl.github.io/images/song-title-histogram.png"&gt;&lt;img alt="Song Title Histogram" src="https://janithl.github.io/images/song-title-histogram.png" /&gt;&lt;/a&gt;&lt;/p&gt;</summary><category term="data"></category><category term="music"></category></entry><entry><title>Thoughts on Turkey</title><link href="https://janithl.github.io/2016/07/thoughts-on-turkey/" rel="alternate"></link><published>2016-07-19T19:06:00+05:30</published><author><name>Janith</name></author><id>tag:janithl.github.io,2016-07-19:2016/07/thoughts-on-turkey/</id><summary type="html">&lt;p&gt;I've been meaning to write something cohesive about my thoughts 
post-attempted coup in Turkey, instead of having a half-dozen 
status updates with cryptic captions that, when analysed together,
gives someone an idea of where I stand on the issue.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://foreignpolicy.com/2016/07/18/turkey-and-nato-what-comes-next-is-messy-coup-erdogan-incirlik-air-base-nuclear-weapons/"&gt;Writing for Foreign Policy&lt;/a&gt;, 
retired American 4-star admiral and supreme NATO commander James 
Stavridis says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The highly unstable geopolitics of the Levant and NATO’s 
expanding security needs come together at a crossroads in Turkey. 
It is not only a nation, but a civilization as well, one that has 
an acute sense of its importance and history in the region.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The Ottoman Empire came to an end after the Great War, and the 
Turkish republic rose from its ashes - led by a man whose legacy 
has played a significant part of its landscape since: Mustafa Kemal 
Ataturk. Ataturk came to power in a defeated nation that was about 
to be partitioned among foreign powers, and led it on a path of 
modernisation that made it an important regional power and 
(long after his death) an important NATO member.&lt;/p&gt;
&lt;p&gt;It is Ataturk's policies of secularism and democracy that the 
&lt;a href="http://www.newyorker.com/news/news-desk/the-purge-begins-in-turkey"&gt;Turkish Army vows to uphold whenever it takes power&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since the Turkish republic was founded, in 1923, the county’s 
generals have imagined themselves the ultimate arbiters of its 
politics, stepping into power—sometimes savagely—whenever they 
felt the government had become either too leftist or too Islamic.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Whether it succeeds or fails in this endeavour depends on who you're 
asking. For example, the biography of 1980s coup leader 
&lt;a href="https://en.wikipedia.org/wiki/Kenan_Evren"&gt;Kenan Evren&lt;/a&gt; reads:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;He professed great admiration for the founder of the Republic of 
Turkey, Mustafa Kemal Atatürk; however, he shut down many institutions 
founded by Atatürk and is often accused of deforming the country's 
legal system against Atatürk's principles.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Erdogan&lt;/h2&gt;
&lt;p&gt;Recep Tayyip Erdogan was elected PM in 2003. His Justice and 
Development Party (AKP) embodies liberal economics and conservative 
social values. He was mayor of Istanbul (1994 - 1998) running on an 
Islamist platform, but was stripped of his office and imprisoned for 
"incitement to violence and religious or racial hatred". When he became 
PM in 2003, he was &lt;a href="http://www.newyorker.com/news/news-desk/the-purge-begins-in-turkey"&gt;hailed as some Islamist democrat messiah&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When Erdoğan first became Prime Minister, in 2003, he was the Islamic world’s
great democratic hope, a leader of enormous vitality who would show the world
that an avowedly Islamist politician could lead a stable democracy and carry on
as a member of NATO, too.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Erdogan's &lt;em&gt;"Neo-Ottomanism"&lt;/em&gt; and other policies are a fascinating discussion 
in and of themselves, but I'll leave those out of this post. What we need 
to understand though is that Erdogan does not trust the military to not 
topple him, which led in the late 2000s to a series of investigations and
trials pertaining to an alleged coup plan called "Operation Sledgehammer". 
From the earlier FP article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hundreds of senior admirals and generals were charged and jailed on suspect
charges in the so-called Sledgehammer scandals of the 2000s, and the seeds of
the current coup were planted when bitter military leaders watched their
commanders and mentors be taken to prison in handcuffs.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Some of the evidence was &lt;a href="http://rodrik.typepad.com/dani_rodriks_weblog/2012/10/did-microsoft-steal-its-fonts-from-the-turkish-army.html"&gt;flimsy at best&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All these documents carry last-saved dates from 2002-2003, appear to have 
been authored by officers on duty at the time, and were burned on CDs that 
were apparently finalized in March 2003.&lt;/p&gt;
&lt;p&gt;Yet when forensic experts looked more closely at the document with a Hex 
editor, which shows all the binary information on the file, they made a 
discovery that revealed that the metadata had been tampered with.  In plain 
sight on the raw file was a reference to “Calibri,” a font that Microsoft 
introduced with Office 2007 as the new default font for Word, and was first 
released to the public in mid-2006.  The only explanation for this anachronistic 
reference was that the file had been worked on with Office 2007 before it was 
ultimately saved in an earlier version of Word.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In the aftermath of the coup attempt last week, there'll no doubt be more 
generals dragged away in chains, and more institutions falling under Erdogan's 
command in his mad rush for dictatorial powers.&lt;/p&gt;
&lt;p&gt;All this could lead to rocky times for NATO ahead. Of particular concern are 
the &lt;a href="http://www.newyorker.com/news/news-desk/the-h-bombs-in-turkey"&gt;nuclear weapons stored at Incirlik&lt;/a&gt;, 
70 miles from the Syrian border:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Security concerns at Incirlik Airbase recently prompted a major upgrade of 
the perimeter fence that surrounds its nuclear-weapons storage area. Incirlik 
is about seventy miles from the Syrian border, and since last October American
aircraft and drones based there have been attacking ISIS forces. Its proximity
to rebel-controlled areas in Syria and the rash of terrorist acts in Turkey led
the Pentagon, a few months ago, to issue an “ordered departure” of all the
family members of American troops at Incirlik.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Final Thoughts&lt;/h2&gt;
&lt;p&gt;This post came out shorter than expected, because I skipped the bit I really 
wanted to talk about - Erdogan and his politics. I'll hopefully have time 
&lt;em&gt;(lol)&lt;/em&gt; to write in more depth about what the last 13 years have looked like 
for Turkey under Erdogan, and what his potential endgame might be - for both 
Turkey and the Middle East.&lt;/p&gt;</summary><category term="conflict"></category><category term="geopolitics"></category></entry></feed>